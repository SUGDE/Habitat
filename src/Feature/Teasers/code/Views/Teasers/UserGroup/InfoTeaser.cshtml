@using Sitecore.Feature.Teasers
@using Sitecore.Foundation.SitecoreExtensions.Extensions 
@using Sitecore.Data.Items
@using System.Linq
@using Sitecore.Feature.Teasers.Repositories
@using Sitecore.Feature.Teasers.Models
@model Sitecore.Mvc.Presentation.RenderingModel
@{ var elements = Model.Item == null ? new List<Item>() : AccordeonElementsRespository.Get(Model.Item).ToList(); }
 
<div class="container">
    <div class="wpb_column vc_column_container vc_col-sm-12">
        <div class="vc_column-inner ">
            <div class="wpb_wrapper">
                <div class="custom-header">
                    <h1 class="text-center" style="color:;">@Html.Sitecore().Field(Templates.InfoTeaser.Fields.Title.ToString(), Model.Item)</h1><p class="lead text-center" style="color:; ">
                        @Html.Sitecore().Field(Templates.InfoTeaser.Fields.Summary.ToString(), Model.Item)
                    </p>
                </div>
            </div>
        </div>
    </div>
  
    @{int i = 0; }

    @while (i < elements.Count)
    {
        <div class="wpb_column vc_column_container vc_col-sm-4">
            <div class="vc_column-inner ">
                <div class="wpb_wrapper">
                     
                    @{
                        var infoElement = new IconTeaserModel(elements[i]);
                        i++;
                    }
                    <div class="feature text-center ">
                        @Html.Partial("~/Views/Teasers/UserGroup/IcoTeaser.cshtml", infoElement)
                    </div>

                    @if (i < elements.Count)
                    {
                        var infoElement2 = new IconTeaserModel(elements[i]);
                        i++;
                        <div class="feature text-center ">
                            @Html.Partial("~/Views/Teasers/UserGroup/IcoTeaser.cshtml", infoElement2)
                        </div>
                    } 
                </div>
            </div>
        </div> 
    }
     
</div>